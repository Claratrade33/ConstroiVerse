<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>ConstroiVerse — Painel do Corretor</title>
  <link rel="stylesheet" href="/static/style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body class="painel-corretor">

  <header>
    <h1>🏢 ConstroiVerse — Painel do Corretor</h1>
    <p>Imóveis disponíveis para representar e acompanhar</p>
  </header>

  <main>

    <!-- LISTA DE OBRAS DISPONÍVEIS -->
    <section class="bloco bloco-obras">
      <h2>🏗️ Obras Disponíveis para Venda</h2>
      <ul id="lista-obras">
        <!-- Obras serão carregadas aqui -->
      </ul>
    </section>

    <!-- OBRAS HABILITADAS -->
    <section class="bloco bloco-habilitado">
      <h2>✅ Minhas Obras Habilitadas</h2>
      <ul id="obras-habilitadas">
        <li>Nenhuma obra habilitada ainda.</li>
      </ul>
    </section>

  </main>

  <footer>
    <p>ConstroiVerse © 2025 — Conectando obras, vendas e pessoas</p>
  </footer>

  <script>
    const obrasDisponiveis = [
      {
        id: 1,
        nome: "Residencial Bela Vista",
        cidade: "São Paulo",
        status: "Em andamento",
        entrega: "Dez/2025"
      },
      {
        id: 2,
        nome: "Condomínio Vida Nova",
        cidade: "Fortaleza",
        status: "Lançamento",
        entrega: "Mar/2026"
      }
    ];

    const listaObras = document.getElementById("lista-obras");
    const obrasHabilitadas = document.getElementById("obras-habilitadas");

    function renderObras() {
      listaObras.innerHTML = "";
      obrasDisponiveis.forEach(obra => {
        const li = document.createElement("li");
        li.innerHTML = `
          <strong>${obra.nome}</strong><br>
          📍 ${obra.cidade}<br>
          📈 Status: ${obra.status} — Entrega prevista: ${obra.entrega}<br>
          <button onclick="solicitarHabilitacao(${obra.id})">📩 Solicitar Habilitação</button>
        `;
        listaObras.appendChild(li);
      });
    }

    function solicitarHabilitacao(obraId) {
      const obra = obrasDisponiveis.find(o => o.id === obraId);
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${obra.nome}</strong> — ${obra.status}<br>
        Entrega: ${obra.entrega}<br>
        <em>Acompanhamento disponível</em>
      `;
      obrasHabilitadas.innerHTML = "";
      obrasHabilitadas.appendChild(li);
      alert(`✅ Solicitação de habilitação enviada para "${obra.nome}". Aguarde aprovação da construtora.`);
    }

    // Inicializa
    renderObras();
  </script>
</body>
</html>